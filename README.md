# OverWeightControl
IS for the processing of acts of vehicle overweight.

Первоначальная настройка.
Для первоначальной настройки необходимо запусть программу "OverWeightControl.exe" в режиме админисрирования. Для этого нужно вызвать "OverWeightControl.exe" через консоль с параметром "-admin", или запусть "runAdmin.bat". Тем самым программа запустится режим администрирования.

На первом этапе необходимо произвести первоначальные настройки - пункт меню "Администрирование | Настройки."
В открывшемся окне доступны следующее настройки:
"ScanPath": Директория в которой находятся отсканированные документы.
"StorePath": Директория временного хранения(для буферизации).
"BackUpPath": Директория хранения бэкапа файлов.
"ArgsFileLocation": Путь к файлу настроек.
"IsDebugMode": Режим отладки. Значение false.
"WFProcWaitingFor": Скорость обновления очередей в секундах. Данную настройку рекомендуется устанавливать в районе 300 секунд. Для случаев когда нужно обработать значительный массив данных - 30 секунд.
"ServerName": на ППВК - IP-адрес Сервера сбора актов; на сервере: 0.0.0.0.
"Port": Сетевой порт взаимодействия. По умолчанию 8001.
"ScanExt": Расширение файлов, которые ищутся в ScanPath на ППВК.
"AfcPath": Папка из которой AFC собирает файлы для синхронизации.
"Mode": Выбор модели десериализации. По умолчанию "BelModel".
"ConnectionString": Строка подключения к БД.
"Binding": Тип биндинга. По умолчанию "Net".

Заполнять их все не нужно. Во-первых, значений по умолчанию часто хватает. Во-вторых, Есть специфичные для различных узлов информационной системы настройки.
На ППВК нужно заполнить следующие настройки: ScanPath, StorePath, BackUpPath, ServerName, Port. Остальные можно оставить по умолчанию.
На серверной стороне сбора актов необходимо настроить BackUpPath, AfcPath, ServerName (обязательно 0.0.0.0), Port.
На станции верификации ScanPath, ConnectionString, Mode.

Для облегчения настройки, настройки с постфиксом "Path" можно настроить через диалоговое окно, дважды кликнув строку.
Все настроки сохраняются в файл args.txt. Изменять такие параметры как ServerName, Port, WFProcWaitingFor весьма удобно непосредственно из файла. Если в результате неверной настройки, необходимо востановить умолчания, следует удалить файл "args.txt".

На втором этапе необходимо настроить Роли узлов Информационной системы в соответствующем поле меню "Администрирование".
В окне "Менеджера конфигураций пакетов" следуюет выбрать одну роль узла и нажать кнопку ОК.
Во вкладке "Цепочки обработки" возможно назначать обработчики файлов: компрессия, бэкап и т.п. Рекомендуется не вносить изменений!
Во вкладке "Инфраструктурные зависимости" назначаются пакеты для платформы обработчика файлов. Рекомендуется не вносить изменений!

Запуск программы.
Необходимым условием запуска является нахождение всех файлов дистрибутива в одной директории. Запускать следует "OverWeightControl.Runner.exe". Данное приложение предназначено для запуска последней версии программы, т.е. обновляет программу из папки Updates.